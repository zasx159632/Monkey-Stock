部署到 Google Cloud VM
1. 設定 VM
bash# 更新系統
sudo apt update && sudo apt upgrade -y

# 安裝 Python 和 pip
sudo apt install python3 python3-pip python3-venv -y

# 安裝中文字型（供 summary 圖片使用）
sudo apt install fonts-noto-cjk -y
2. 上傳專案
bash# 在本地壓縮專案
tar -czf monkey-bot.tar.gz --exclude=*.pyc --exclude=__pycache__ \
    --exclude=.git --exclude=venv --exclude=*.db .

# 上傳到 VM
scp monkey-bot.tar.gz user@your-vm-ip:~/

# 在 VM 解壓
ssh user@your-vm-ip
tar -xzf monkey-bot.tar.gz
3. 設定虛擬環境
bash# 建立虛擬環境
python3 -m venv venv

# 啟動虛擬環境
source venv/bin/activate

# 安裝套件
pip install -r requirements.txt
4. 設定 systemd 服務
建立服務檔案：
bashsudo nano /etc/systemd/system/monkey-bot.service
內容：
ini[Unit]
Description=Monkey Market Maven Discord Bot
After=network.target

[Service]
Type=simple
User=your-username
WorkingDirectory=/home/your-username/monkey-market-maven
ExecStart=/home/your-username/monkey-market-maven/venv/bin/python main.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
5. 啟動服務
bash# 重新載入 systemd
sudo systemctl daemon-reload

# 啟用服務
sudo systemctl enable monkey-bot

# 啟動服務
sudo systemctl start monkey-bot

# 檢查狀態
sudo systemctl status monkey-bot

# 查看日誌
sudo journalctl -u monkey-bot -f
6. 管理指令
bash# 停止機器人
sudo systemctl stop monkey-bot

# 重啟機器人
sudo systemctl restart monkey-bot

# 查看日誌
sudo journalctl -u monkey-bot --since today

# 停用自動啟動
sudo systemctl disable monkey-bot